<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Консультации</title>
<link rel="stylesheet" href="style/common.css">
<link rel="stylesheet" href="style/consultations.css">
<link rel="icon" type="image/x-icon" href="assets/favicon.svg">
</head>
<body>

<div class="layout">

  <!-- SIDEBAR -->
  <aside class="sidebar">
    <div class="sidebar-logo">
      <img src="assets/myitmo-logo.svg" alt="">
    </div>

    <nav>
        <a class="nav-item" href="points.html"><img class="nav-icon" src="assets/points.svg"> Зачётка</a>
        <a class="nav-item active" href="consultations.html"><img class="nav-icon" src="assets/consultations-active.svg"> Консультации</a>
        <a class="nav-item" href="chats.html"><img class="nav-icon" src="assets/chats.svg"> Чаты</a>
    </nav>

    <div class="sidebar-bottom">
      <div class="avatar">АИ</div>
      <div>
        <div class="sidebar-user-name">Алексей Иванов</div>
        <div class="sidebar-user-sub">Группа K3241</div>
      </div>
    </div>
  </aside>

  <!-- MAIN -->
  <div class="main">

    <!-- TOPBAR -->
    <div class="topbar">
      <div class="page-title">Консультации</div>
      <div class="topbar-right">
        <div class="week-nav">
          <button class="week-nav-btn" onclick="changeWeek(-1)">‹</button>
          <span class="week-label" id="week-label">17 – 21, Февраль</span>
          <button class="week-nav-btn" onclick="changeWeek(1)">›</button>
        </div>
        <div class="view-toggle">
          <button class="view-btn active">Неделя</button>
          <button class="view-btn">Список</button>
        </div>
      </div>
    </div>

    <!-- LEGEND -->
    <div class="legend-bar">
      <div class="legend-item">
        <div class="legend-dot" style="background:#12A050"></div>
        Свободные места
      </div>
      <div class="legend-item">
        <div class="legend-dot" style="background:#E07B00"></div>
        Мало мест
      </div>
      <div class="legend-item">
        <div class="legend-dot" style="background:#E4002B"></div>
        Мест нет
      </div>
      <div class="legend-item">
        <div class="legend-dot" style="background:#0033A0"></div>
        Вы записаны
      </div>
    </div>

    <!-- CALENDAR -->
    <div class="calendar-wrap">
      <table class="calendar-table">
        <thead>
          <tr class="cal-head">
            <th><span style="font-size:16px"></span></th>
            <th><span class="day-num">17</span><span class="day-name">Пн</span></th>
            <th><span class="day-num">18</span><span class="day-name">Вт</span></th>
            <th class="today"><span class="day-num">19</span><span class="day-name">Ср</span></th>
            <th><span class="day-num">20</span><span class="day-name">Чт</span></th>
            <th><span class="day-num">21</span><span class="day-name">Пт</span></th>
          </tr>
        </thead>
        <tbody id="cal-body">
        </tbody>
      </table>
    </div>

  </div>
</div>

<!-- MODAL -->
<div class="modal-overlay" id="modal" onclick="closeModal(event)">
  <div class="modal">
    <div class="modal-header">
      <div>
        <div class="modal-title" id="m-title">—</div>
        <div class="modal-subtitle" id="m-subtitle">—</div>
      </div>
      <button class="modal-close" onclick="closeModalDirect()">✕</button>
    </div>

    <div class="modal-info-row">
      <span class="modal-info-icon"></span>
      <div><div class="modal-info-label">Дата и время</div><div class="modal-info-val" id="m-datetime">—</div></div>
    </div>
    <div class="modal-info-row">
      <span class="modal-info-icon"></span>
      <div><div class="modal-info-label">Место</div><div class="modal-info-val" id="m-place">—</div></div>
    </div>
    <div class="modal-info-row">
      <span class="modal-info-icon"></span>
      <div><div class="modal-info-label">Преподаватель</div><div class="modal-info-val" id="m-teacher">—</div></div>
    </div>
    <div class="modal-info-row">
      <span class="modal-info-icon"></span>
      <div style="width:100%">
        <div class="modal-info-label">Места</div>
        <div class="modal-info-val" id="m-seats">—</div>
        <div class="seats-bar" style="margin-top:6px">
          <div class="seats-fill" id="m-seats-bar"></div>
        </div>
      </div>
    </div>

    <button class="modal-btn" id="m-action-btn" onclick="handleAction()">—</button>
  </div>
</div>

<!-- TOAST -->
<div class="toast" id="toast"></div>

<script src="scripts/consultations.js">

</script>
</body>
</html>
